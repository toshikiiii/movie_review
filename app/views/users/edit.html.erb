<h1>アカウントを編集</h1>

<%= form_with model: @user, url: account_path, method: :patch, local: true, html: { multipart: true } do |f| %>
  <div>
    <%= f.label :name, "名前" %><br>
    <%= f.text_field :name %>
  </div>

  <div>
    <%= f.label :email, "メールアドレス" %><br>
    <%= f.email_field :email %>
  </div>

  <hr>

<div>
  <%= f.label :bio, "自己紹介" %><br>
  <%= f.text_area :bio, rows: 5, placeholder: "好きな映画、趣味、ひとこと など" %>
</div>

  <div>
    <strong>アイコン画像</strong><br>
    <% if @user.avatar.attached? %>
      <div style="margin-bottom:8px;">
        <%= image_tag @user.avatar.variant(resize_to_limit: [100, 100]) %>
      </div>
      <label>
        <%= f.check_box :remove_avatar %> 画像を削除する
      </label>
      <br>
    <% end %>
    <%= f.file_field :avatar %>
    <p style="font-size:12px; color:#666;">※ 新しい画像を選ぶと上書きされます。</p>
  </div>

  <hr>

  <details>
    <summary>パスワードを変更する（任意）</summary>
    <div style="margin-top:8px;">
      <%= f.label :password, "新しいパスワード" %><br>
      <%= f.password_field :password, autocomplete: "new-password" %>
    </div>
    <div>
      <%= f.label :password_confirmation, "確認用パスワード" %><br>
      <%= f.password_field :password_confirmation, autocomplete: "new-password" %>
    </div>
  </details>

  <div style="margin-top:16px;">
    <%= f.submit "保存する" %>
  </div>
<% end %>